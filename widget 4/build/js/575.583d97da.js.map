{"version":3,"file":"js/575.583d97da.js","mappings":"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","sources":["webpack://starterpackapp/./src/components/Settings.vue","webpack://starterpackapp/./src/components/Setting.vue","webpack://starterpackapp/./src/components/Setting.vue?8aeb","webpack://starterpackapp/./src/components/Settings.vue?b3ff"],"sourcesContent":["<template>\n    <div class=\"settings_container\">\n        <span v-if=\"accessInfo\" class=\"accessInfo\">{{ accessInfo.status === 'active' ? `Оплаченный период:\n            ${accessInfo.days} дней` :\n            `Тестовый период: ${accessInfo.days} дней` }}</span>\n        <a href=\"https://widgetsfree.crm82.ru/hide_fields_tutorial.pdf\" target=\"_blank\"\n        style=\"font-weight: 600;\">Инструкция</a>\n            <template v-if=\"is_admin\">\n        <Setting v-for=\"(setting, index) in settings\" :input=\"settings[index]\" :selectedFields=\"getSelectedFields()\"\n            @output=\"(event) => { settings[index] = { ...JSON.parse(JSON.stringify(event)), id: settings[index].id }; }\"\n            @delete=\"deleteSetting(index)\" :key=\"setting.id\" />\n\n        <button class=\"settings_add_button\" @click=\"settings.push({ id: Date.now() })\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 100 100\">\n                <rect x=\"43.75\" y=\"0\" width=\"10\" height=\"100\" fill=\"#5e5e5e\" rx=\"5\" />\n                <rect x=\"0\" y=\"43.75\" width=\"100\" height=\"10\" fill=\"#5e5e5e\" rx=\"5\" />\n            </svg>\n        </button>\n    </template>\n\n    </div>\n</template>\n\n<script>\nimport { defineComponent, getCurrentInstance } from 'vue'\nimport { Select, Avatar } from 'ant-design-vue'\nimport Setting from './Setting.vue';\nexport default defineComponent({\n    setup() {\n        const { app } = getCurrentInstance().appContext\n        app.use(Select)\n        app.use(Avatar)\n\n    },\n    components: {\n        Setting\n    },\n    data() {\n        return {\n            is_admin: APP.constant('user_rights').is_admin,\n            accessInfo: null,\n            settings: [{ id: Date.now() }],\n            configInput: {} //html input кастомного поля настроек amo\n        }\n    },\n    watch: {\n        settings: {\n            handler() {\n                this.updateSettings()\n            },\n            deep: true\n        }\n    },\n    async created() {\n        await this.getData();\n        this.filteredCustomFieldsOptions = this.customFields;\n        this.configInput = document.querySelector('input[name=\"fieldsConfig\"]');\n        if(this.configInput.value){\n            const configInputParsed = JSON.parse(this.configInput.value);\n            if (Array.isArray(configInputParsed)) {\n                this.settings = configInputParsed\n            }\n            else{\n                this.settings = Object.values(configInputParsed)\n            }\n        }\n\n    },\n    methods: {\n        async getData() {\n            try {\n                const response = await fetch('https://widgetsfree.crm82.ru/api/widget/hide_fields/access_info', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({\n                        subdomain: APP.constant('account').subdomain\n                    })\n                });\n\n                if (response.ok) {\n                    const data = await response.json()\n                    this.accessInfo = data.access_info;\n                    localStorage.removeItem(\"crm82_hide_fields\");\n                    document.querySelector('#loading_widget').remove();\n                } else {\n                    // Обработка ошибок\n                    if (response.status === 402) {\n                        localStorage.setItem('crm82_hide_fields', 'pay_me')\n                        document.querySelector('#loading_widget span').innerHTML = `\n                            <div style=\"display: flex; justify-content: space-between;\">\n                                <span style=\"font-weight: 600;\">Срок действия виджета истек. Свяжитесь с нами для оплаты</span>\n                            </div>\n                            <br>\n                            <span>Стоимость: 1000 руб в месяц</span><br>\n                            <span style=\"display: flex; align-items: center; gap: 0.25rem;\">\n                                <span>Оплатить: </span>\n                                <a href=\"https://t.me/rudolf_crm\" target=\"_blank\" style=\"display: flex; align-items: center; gap: 0.25rem;\">\n                                    @rudolf_crm\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 240.1 240.1\">\n                                        <circle fill=\"#2AABEE\" cx=\"120.1\" cy=\"120.1\" r=\"120.1\" />\n                                        <path fill=\"#FFFFFF\" d=\"M54.3,118.8c35-15.2,58.3-25.3,70-30.2 c33.3-13.9,40.3-16.3,44.8-16.4c1,0,3.2,0.2,4.7,1.4c1.2,1,1.5,2.3,1.7,3.3s0.4,3.1,0.2,4.7c-1.8,19-9.6,65.1-13.6,86.3 c-1.7,9-5,12-8.2,12.3c-7,0.6-12.3-4.6-19-9c-10.6-6.9-16.5-11.2-26.8-18c-11.9-7.8-4.2-12.1,2.6-19.1c1.8-1.8,32.5-29.8,33.1-32.3 c0.1-0.3,0.1-1.5-0.6-2.1c-0.7-0.6-1.7-0.4-2.5-0.2c-1.1,0.2-17.9,11.4-50.6,33.5c-4.8,3.3-9.1,4.9-13,4.8 c-4.3-0.1-12.5-2.4-18.7-4.4c-7.5-2.4-13.5-3.7-13-7.9C45.7,123.3,48.7,121.1,54.3,118.8z\" />\n                                    </svg>\n                                </a>\n                            </span>\n                        `;\n                    } else {\n                        document.querySelector('#loading_widget').remove();\n                    }\n                }\n            } catch (error) {\n            }\n        },\n        deleteSetting(index) {\n            this.settings.splice(index, 1); // Удаляем элемент по индексу\n        },\n        updateSettings() {\n            this.configInput.value = JSON.stringify(this.settings)\n            this.configInput.dispatchEvent(new Event('change', { bubbles: true }));\n        },\n        getSelectedFields() {\n            return this.settings.map(setting => setting.name);\n        }\n    }\n})\n</script>\n<style scoped>\n.settings_container {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n}\n\n.settings_add_button {\n    width: 100%;\n    height: 56px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #00000005;\n    border: 1px solid #0505050f;\n    border-radius: 8px;\n}\n\n.settings_add_button:active {\n    background-color: #00000021;\n}\n\n.settings_save_button {\n    width: 100%;\n    height: 56px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #4CAF50;\n    color: white;\n    border: none;\n    border-radius: 8px;\n    cursor: pointer;\n}\n\n.settings_save_button:hover {\n    background-color: #45a049;\n}\n</style>","<template>\n    <div class=\"settingCard\">\n        <button class=\"delete_button\" @click=\"$emit('delete')\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"16\"\n                height=\"16\" viewBox=\"0 0 256 256\" xml:space=\"preserve\">\n\n                <defs>\n                </defs>\n                <g style=\"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;\"\n                    transform=\"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)\">\n                    <path\n                        d=\"M 68.842 90 H 21.158 c -4.251 0 -7.696 -3.446 -7.696 -7.696 v -52.09 h 63.077 v 52.09 C 76.538 86.554 73.092 90 68.842 90 z\"\n                        style=\"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(188,60,60); fill-rule: nonzero; opacity: 1;\"\n                        transform=\" matrix(1 0 0 1 0 0) \" stroke-linecap=\"round\" />\n                    <path\n                        d=\"M 78.321 22.213 H 11.679 c -2.209 0 -4 -1.791 -4 -4 s 1.791 -4 4 -4 h 66.643 c 2.209 0 4 1.791 4 4 S 80.53 22.213 78.321 22.213 z\"\n                        style=\"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(188,60,60); fill-rule: nonzero; opacity: 1;\"\n                        transform=\" matrix(1 0 0 1 0 0) \" stroke-linecap=\"round\" />\n                    <path\n                        d=\"M 57.815 22.213 h -25.63 c -2.209 0 -4 -1.791 -4 -4 V 7.696 C 28.185 3.453 31.637 0 35.881 0 h 18.238 c 4.244 0 7.696 3.453 7.696 7.696 v 10.517 C 61.815 20.422 60.024 22.213 57.815 22.213 z M 36.185 14.213 h 17.63 V 8 h -17.63 V 14.213 z\"\n                        style=\"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(188,60,60); fill-rule: nonzero; opacity: 1;\"\n                        transform=\" matrix(1 0 0 1 0 0) \" stroke-linecap=\"round\" />\n                    <path\n                        d=\"M 54.784 78.235 c -2.209 0 -4 -1.791 -4 -4 V 44.976 c 0 -2.209 1.791 -4 4 -4 s 4 1.791 4 4 v 29.259 C 58.784 76.444 56.993 78.235 54.784 78.235 z\"\n                        style=\"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;\"\n                        transform=\" matrix(1 0 0 1 0 0) \" stroke-linecap=\"round\" />\n                    <path\n                        d=\"M 35.216 78.235 c -2.209 0 -4 -1.791 -4 -4 V 44.976 c 0 -2.209 1.791 -4 4 -4 s 4 1.791 4 4 v 29.259 C 39.216 76.444 37.425 78.235 35.216 78.235 z\"\n                        style=\"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;\"\n                        transform=\" matrix(1 0 0 1 0 0) \" stroke-linecap=\"round\" />\n                </g>\n            </svg>\n        </button>\n        <div class=\"dropdown\">\n            <input type=\"text\" placeholder=\"Выберите поле\" @focus=\"showDropdown = true\" :value=\"nameBuffer\"\n                @input=\"filterOptions\">\n            <div v-if=\"showDropdown\" ref=\"dropdownList\" class=\"dropdown-content\">\n                <div v-for=\"field in filteredCustomFieldsOptions\" @click=\"selectOption(field)\" :key=\"field\">\n                    {{ field }}\n                </div>\n            </div>\n        </div>\n        <div v-if=\"fieldConfig.name\" style=\"margin-top: 8px; display: flex; flex-direction: column; gap: 4px;\">\n            <p>Выберите воронку в которой хотите скрыть поля:</p>\n            <a-select  class=\"select_width\" v-model:value=\"fieldConfig.pipelines\" :options=\"pipelineOptions\" optionFilterProp=\"label\" mode=\"multiple\"\n                        showSearch></a-select>\n\n             <p>Выберите менеджеро для которых хотите скрыть поля:</p>\n             <a-select class=\"select_width\" v-model:value=\"fieldConfig.managers\" :options=\"userOptions\" mode=\"multiple\"\n                    optionFilterProp=\"label\" showSearch>\n                    <template #option=\"{ label, avatar }\">\n                        <a-avatar :src=\"avatar\" :size=\"20\" style=\"margin-right: 5px\" />\n                        {{ label }}\n                    </template>\n                </a-select>\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n    data() {\n        return {\n            isBold: false,\n            color: null,\n            nameBuffer: \"\", //Переменная для поиска полей\n            fieldConfig: {\n                pipelines: [],\n                managers: [],\n                name: \"\",\n            },\n            pipelineOptions: [],\n            userOptions: (() => {\n                const managers = AMOCRM.constant('managers')\n                const managersArray = Object.values(managers)\n                return managersArray\n                    .filter(manager => manager.active === true) // Фильтруем активных пользователей\n                    .map(manager => ({\n                        label: manager.title,\n                        avatar: manager.avatar,\n                        value: Number(manager.id),\n                    }));\n            })(),\n\n            showDropdown: false,\n            customFields: (() => {\n                const customFields = APP.constant('account').cf;\n                const customFieldsArray = Object.values(customFields);\n                return customFieldsArray.map(field => field.NAME);\n            })(),\n            filteredCustomFieldsOptions: []\n        };\n    },\n    props: {\n        input: null,\n        selectedFields: []\n    },\n    watch: {\n        isBold: {\n            handler() {\n                this.updateStyle();\n            },\n        },\n        color: {\n            handler() {\n                this.updateStyle();\n            },\n        },\n        fieldConfig: {\n            handler() {\n                this.$emit('output', this.fieldConfig);\n            },\n            deep: true\n        }\n    },\n    async created() {\n        this.filteredCustomFieldsOptions = this.customFields;\n        if (this.input.hasOwnProperty('name')) {\n            delete this.input.id;\n            this.fieldConfig = this.input;\n            this.nameBuffer = this.input.name;\n        }\n        try { //получение воронок и этапов\n            const response = await fetch(window.location.origin + '/api/v4/leads/pipelines');\n            const jsonResponse = await response.json();\n            this.pipelineOptions = jsonResponse._embedded.pipelines.map(pipeline => ({ //получаем и форматируем поля в удобном виде для a-select\n                label: pipeline.name,\n                value: Number(pipeline.id)\n            }));\n        } catch (error) {\n        }\n    },\n    methods: {\n        filterOptions($event) {\n            this.nameBuffer = $event.target.value;\n            const value = $event.target.value.toLowerCase();\n            this.filteredCustomFieldsOptions = this.customFields\n                .filter(manager => manager.toLowerCase().includes(value))\n                .filter(field => !this.selectedFields.includes(field)); // Фильтруем уже выбранные поля\n        },\n        selectOption(option) {\n            this.fieldConfig.name = option;\n            this.nameBuffer = option;\n            this.showDropdown = false;\n        },\n    }\n});\n</script>\n<style scoped>\n.dropdown {\n    position: relative;\n    display: inline-block;\n    width: 100%;\n}\n\n.dropdown input {\n    width: 100%;\n    box-sizing: border-box;\n    padding: 8px;\n    border: 1px solid rgb(228, 231, 236);\n\n}\n\n.dropdown-content {\n    position: absolute;\n    z-index: 999;\n    background-color: #f9f9f9;\n    min-width: 100%;\n    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n    max-height: 200px;\n    overflow-y: auto;\n}\n\n.dropdown-content div {\n    padding: 8px 16px;\n    cursor: pointer;\n}\n\n.dropdown-content div:hover {\n    background-color: #f1f1f1;\n}\n\n.checkbox_container {\n    display: flex;\n    gap: 12px;\n}\n\n.settingCard {\n    border: 1px solid rgb(228, 231, 236);\n    border-radius: 8px;\n    padding: 8px;\n    position: relative;\n}\n\n.delete_button {\n    z-index: 100;\n    position: absolute;\n    right: 8px;\n    bottom: 0.1rem;\n    border: none;\n    background: transparent;\n}\n.select_width {\n    width: 90%;\n}\n</style>","import { render } from \"./Setting.vue?vue&type=template&id=c9f98c6e&scoped=true\"\nimport script from \"./Setting.vue?vue&type=script&lang=js\"\nexport * from \"./Setting.vue?vue&type=script&lang=js\"\n\nimport \"./Setting.vue?vue&type=style&index=0&id=c9f98c6e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9f98c6e\"]])\n\nexport default __exports__","import { render } from \"./Settings.vue?vue&type=template&id=affb0bd2&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=affb0bd2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-affb0bd2\"]])\n\nexport default __exports__"],"names":["class","href","target","style","xmlns","width","height","viewBox","x","y","fill","rx","accessInfo","status","is_admin","settings","setting","index","input","selectedFields","getSelectedFields","event","JSON","parse","stringify","id","deleteSetting","key","push","Date","now","ref","$emit","type","placeholder","showDropdown","value","nameBuffer","filterOptions","filteredCustomFieldsOptions","field","selectOption","fieldConfig","pipelines","options","pipelineOptions","optionFilterProp","mode","showSearch","managers","userOptions","option","label","avatar","src","size","data","isBold","color","name","AMOCRM","constant","managersArray","Object","values","filter","manager","active","map","title","Number","customFields","APP","cf","customFieldsArray","NAME","props","watch","handler","this","updateStyle","deep","created","hasOwnProperty","response","fetch","window","location","origin","jsonResponse","json","_embedded","pipeline","error","methods","$event","toLowerCase","includes","__exports__","setup","app","appContext","use","components","Setting","configInput","updateSettings","getData","document","querySelector","configInputParsed","Array","isArray","method","headers","body","subdomain","ok","access_info","localStorage","removeItem","remove","setItem","innerHTML","splice","dispatchEvent","Event","bubbles","render"],"sourceRoot":""}